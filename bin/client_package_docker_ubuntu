#!/bin/bash

###########################################################################
# Creates Docker image (Ubuntu)
#
# Usage:
#> bin/client_package_docker_ubuntu <version>
#
# Create image (for specific version):
#> bin/client_package_docker_ubuntu 0.0.1

set -e

VERSION=$1
if [ -z "$VERSION" ]; then
    printf "\e[0;31m%s\e[0m\n" "Missing version!"
    exit 1
fi

DOCKER_IMAGE="mysteriumnetwork/mysterium-client"
DOCKER_BUILD_TAG="ubuntu"

printf "Building Ubuntu image..\n" \
docker build \
    --file bin/client_docker/ubuntu/Dockerfile \
    --build-arg PACKAGE_VERSION=${VERSION} \
    --tag ${DOCKER_IMAGE}:${DOCKER_BUILD_TAG} \
    .

printf "\e[0;32m%s\e[0m\n" "Docker image building process complete!"
exit 0
